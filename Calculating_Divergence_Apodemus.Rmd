---
title: "R Notebook"
output: html_notebook
---

```{r}

library(purrr)
library(ape)
library(plyr)
library(seqinr)
library(rlist)

flavi <- list.files("Test_Files/flavi/")
sylva <- list.files("Test_Files/sylva/")

af_Divergence <- list()
as_Divergence <- list()
Compare_as_af <- list()
output <- vector('list', length(flavi))
output_unlisted <- list()

for (i in 1:length(flavi)) 
{
af_Divergence <- read.fasta(file = paste0("Test_Files/flavi/",flavi[i]),
set.attributes = FALSE)
Names_af<-names(af_Divergence)

as_Divergence <-read.fasta(file = paste0("Test_Files/sylva/",sylva[i]),
set.attributes = FALSE)
Names_as <- names(as_Divergence)

as_af_divergence<-c(as_Divergence, af_Divergence)

Names_as_af <- names(as_af_divergence)

for (x in 1:length(as_Divergence)){
      for (y in (length(as_Divergence) +1):length(as_af_divergence)){
         Compare_as_af[[y]] <-
           sum(eval(parse(text=paste0("as_af_divergence$",
Names_as_af[x]))) != eval(parse(text=paste0("as_af_divergence$",
Names_as_af[y]))))/length(eval(parse(text=paste0("as_af_divergence$",
Names_as_af[x]))))*100
      }
  output[[i]] <- Compare_as_af
    }
}

for (i in 1:length(output)) {
    output_unlisted[[i]] <- unlist(output[i])
}

output_unlisted
```


